@model VehiclesTrackingSystem.Models.Route

<!DOCTYPE html>
<html>
<head>
    <title>Добавить маршрут</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <h1>Добавить новый маршрут</h1>

    <form id="addRouteForm">
        <label for="startPoint">Начальный пункт:</label><br>
        <input type="text" id="startPoint" name="startPoint"><br><br>

        <label for="endPoint">Конечный пункт:</label><br>
        <input type="text" id="endPoint" name="endPoint"><br><br>

        <label for="distance">Расстояние:</label><br>
        <input type="number" id="distance" name="distance"><br><br>

        <label for="estimatedTime">Время в пути:</label><br>
        <input type="text" id="estimatedTime" name="estimatedTime"><br><br>

        <input type="submit" value="Добавить">
    </form>

    <script>
        document.getElementById('addRouteForm').addEventListener('submit', function (event) {
            event.preventDefault();

            var formData = new FormData(this);

            fetch('/Routes', {
                method: 'POST',
                body: formData // Отправляем данные формы напрямую как объект FormData
            })
                .then(response => {
                    if (response.ok) {
                        alert('Маршрут успешно добавлен.');
                        window.location.href = '/Routes';
                    } else {
                        alert('Ошибка добавления маршрута.' + response.status);
                    }
                })
                .catch(error => console.error('Ошибка:', error));
        });

    </script>
</body>
</html>
